<htmlform formUuid="335d2312-4898-451b-88a3-bc3d40ada0bd" formName="TB Treatment Monitoring Form" formEncounterType="665f3e9e-3a8d-48e4-b74a-d7ed9bae2c1d" formVersion="1.0">
    <macros>
        paperFormId = (Fill this in) headerColor =#2f1c55 fontOnHeaderColor = white
    </macros>
    <style>
        .section {
            border: 1px solid $headerColor;
            padding: 2px;
            text-align: left;
            margin-bottom: 1em;
        }

        .sectionHeader {
            background-color: #2f1c55;
            color: white;
            /* display: block; */
            padding: 2px;
            font-weight: bold;
        }

        table tr:nth-child(even) {
            background: #ffffff;
        }

        .alnright {
            text-align: right;
            color: #000000;
            width: 25%;
        }

        td {
            border: none;
        }

        table th,
        table td {
            padding: 5px 5px;
            border: None;
        }

        .legend_style {
            max-width: 35%;
            background: #FAFAFA;
        <!--padding: 5px;
        -->margin: 0px left;
            box-shadow: 1px 1px 25px rgba(0, 0, 0, 0.10);
            border-radius: 2px;
            border: 1px solid #305a72;
            border-bottom-left-radius: 2px;
            text-transform: initial;
        }

        form fieldset,
        .form fieldset {
            min-width: 98%;
            border: none;
            border-top: 1px solid #305a72;
        }

        table th,
        table td {
            padding: 5px 5px;
            /* border: 1px solid #DDD; */
        }

        table tr {
            border: None;
        }
        /* ul.select, .form input, .form select, .form textarea, .form ul.select {
        padding: 2px 10px;
        }
        form input, form select, form textarea, form ul.select, .form input, .form select, .form textarea, .form ul.select {
        padding: 2px 10px;
        } */

        span.gridmenu select {
            width: 6em;
        }

        span.obs-field option {
            width: 6em;
        }

        span.gridmenu input {
            width: 6em;
        }

        .error {
            color: red;
        }

        body {
            font-family: "OpenSans", Arial, sans-serif;
            color: #363463;
            font-size: 14px;
        }
    </style>


    <!-- UPDATED -->



    <!-- UPDATED (ADDED) -->


    <script type="text/javascript">
        var $ = jQuery;

        $(document).ready(function(){

            let ipDrug1 = document.querySelector('#ip_drug_1').children[0];
            let ipStrength1 = document.querySelector('#ip_strength_1').children[0];
            let ipFrequency1 = document.querySelector('#ip_frequency_1').children[0];
            let ipDuration1 = document.querySelector('#ip_duration_1').children[0];
            let ipQtyPrescribed1 = document.querySelector('#ip_qtyPrescribed_1').children[0];

            let ipDrug2 = document.querySelector('#ip_drug_2').children[0];
            let ipStrength2 = document.querySelector('#ip_strength_2').children[0];
            let ipFrequency2 = document.querySelector('#ip_frequency_2').children[0];
            let ipDuration2 = document.querySelector('#ip_duration_2').children[0];
            let ipQtyPrescribed2 = document.querySelector('#ip_qtyPrescribed_2').children[0];

            let cpDrug1 = document.querySelector('#cp_drug_1').children[0];
            let cpStrength1 = document.querySelector('#cp_strength_1').children[0];
            let cpFrequency1 = document.querySelector('#cp_frequency_1').children[0];
            let cpDuration1 = document.querySelector('#cp_duration_1').children[0];
            let cpQtyPrescribed1 = document.querySelector('#cp_qtyPrescribed_1').children[0];

            let cpDrug2 = document.querySelector('#cp_drug_2').children[0];
            let cpStrength2 = document.querySelector('#cp_strength_2').children[0];
            let cpFrequency2 = document.querySelector('#cp_frequency_2').children[0];
            let cpDuration2 = document.querySelector('#cp_duration_2').children[0];
            let cpQtyPrescribed2 = document.querySelector('#cp_qtyPrescribed_2').children[0];

            ipDrug1.addEventListener('change', function(e){
                if(ipDrug1.value !== ""){
                    ipStrength1.focus();
                    getField('ip_strength_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }else{
                    ipStrength1.value = "";
                    ipFrequency1.value = "";
                    ipDuration1.value = "";
                    ipQtyPrescribed1.value = "";
                    return false;
                }

            });
            ipStrength1.addEventListener('change', function(e){
                if(ipDrug1.value === ""){
                    ipStrength1.value = "";
                    ipDrug1.focus();
                    getField('ip_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            ipFrequency1.addEventListener('change', function(e){
                if(ipDrug1.value === "") {
                    ipFrequency1.value = "";
                    ipDrug1.focus();
                    getField('ip_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            ipDuration1.addEventListener('change', function(e){
                if(ipDrug1.value === "") {
                    ipDuration1.value = "";
                    ipDrug1.focus();
                    getField('ip_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            ipQtyPrescribed1.addEventListener('keyup', function(e){
                if(ipDrug1.value === "") {
                    ipQtyPrescribed1.value = "";
                    ipDrug1.focus();
                    getField('ip_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });

            ipDrug2.addEventListener('change', function(e){
                if(ipDrug2.value !== ""){
                    ipStrength2.focus();
                    getField('ip_strength_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }else{
                    ipStrength2.value = "";
                    ipFrequency2.value = "";
                    ipDuration2.value = "";
                    ipQtyPrescribed2.value = "";
                    return false;
                }

            });
            ipStrength2.addEventListener('change', function(e){
                if(ipDrug2.value === ""){
                    ipStrength2.value = "";
                    ipDrug2.focus();
                    getField('ip_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            ipFrequency2.addEventListener('change', function(e){
                if(ipDrug2.value === "") {
                    ipFrequency2.value = "";
                    ipDrug2.focus();
                    getField('ip_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            ipDuration2.addEventListener('change', function(e){
                if(ipDrug2.value === "") {
                    ipDuration2.value = "";
                    ipDrug2.focus();
                    getField('ip_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            ipQtyPrescribed2.addEventListener('keyup', function(e){
                if(ipDrug2.value === "") {
                    ipQtyPrescribed2.value = "";
                    ipDrug2.focus();
                    getField('ip_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });

            cpDrug1.addEventListener('change', function(e){
                if(cpDrug1.value !== ""){
                    cpStrength1.focus();
                    getField('cp_strength_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }else{
                    cpStrength1.value = "";
                    cpFrequency1.value = "";
                    cpDuration1.value = "";
                    cpQtyPrescribed1.value = "";
                    return false;
                }

            });
            cpStrength1.addEventListener('change', function(e){
                if(cpDrug1.value === ""){
                    cpStrength1.value = "";
                    cpDrug1.focus();
                    getField('cp_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            cpFrequency1.addEventListener('change', function(e){
                if(cpDrug1.value === "") {
                    cpFrequency1.value = "";
                    cpDrug1.focus();
                    getField('cp_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            cpDuration1.addEventListener('change', function(e){
                if(cpDrug1.value === "") {
                    cpDuration1.value = "";
                    cpDrug1.focus();
                    getField('cp_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            cpQtyPrescribed1.addEventListener('keyup', function(e){
                if(cpDrug1.value === "") {
                    cpQtyPrescribed1.value = "";
                    cpDrug1.focus();
                    getField('cp_drug_1.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });

            cpDrug2.addEventListener('change', function(e){
                if(cpDrug2.value !== ""){
                    cpStrength2.focus();
                    getField('cp_strength_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }else{
                    cpStrength2.value = "";
                    cpFrequency2.value = "";
                    cpDuration2.value = "";
                    cpQtyPrescribed2.value = "";
                    return false;
                }

            });
            cpStrength2.addEventListener('change', function(e){
                if(cpDrug2.value === ""){
                    cpStrength2.value = "";
                    cpDrug2.focus();
                    getField('cp_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            cpFrequency2.addEventListener('change', function(e){
                if(cpDrug2.value === "") {
                    cpFrequency2.value = "";
                    cpDrug2.focus();
                    getField('cp_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            cpDuration2.addEventListener('change', function(e){
                if(cpDrug2.value === "") {
                    cpDuration2.value = "";
                    cpDrug2.focus();
                    getField('cp_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }
            });
            cpQtyPrescribed2.addEventListener('keyup', function(e){
                if(cpDrug2.value === "") {
                    cpQtyPrescribed2.value = "";
                    cpDrug2.focus();
                    getField('cp_drug_2.error').html('Fill this for drug to be dispensed').show();
                    return false;
                }


            });

            beforeSubmit.push(function(e){



                let ipDrug1 = document.querySelector('#ip_drug_1').children[0];
                let ipStrength1 = document.querySelector('#ip_strength_1').children[0];
                let ipFrequency1 = document.querySelector('#ip_frequency_1').children[0];
                let ipDuration1 = document.querySelector('#ip_duration_1').children[0];
                let ipQtyPrescribed1 = document.querySelector('#ip_qtyPrescribed_1').children[0];

                let ipDrug2 = document.querySelector('#ip_drug_2').children[0];
                let ipStrength2 = document.querySelector('#ip_strength_2').children[0];
                let ipFrequency2 = document.querySelector('#ip_frequency_2').children[0];
                let ipDuration2 = document.querySelector('#ip_duration_2').children[0];
                let ipQtyPrescribed2 = document.querySelector('#ip_qtyPrescribed_2').children[0];


                let cpDrug1 = document.querySelector('#cp_drug_1').children[0];
                let cpStrength1 = document.querySelector('#cp_strength_1').children[0];
                let cpFrequency1 = document.querySelector('#cp_frequency_1').children[0];
                let cpDuration1 = document.querySelector('#cp_duration_1').children[0];
                let cpQtyPrescribed1 = document.querySelector('#cp_qtyPrescribed_1').children[0];

                let cpDrug2 = document.querySelector('#cp_drug_2').children[0];
                let cpStrength2 = document.querySelector('#cp_strength_2').children[0];
                let cpFrequency2 = document.querySelector('#cp_frequency_2').children[0];
                let cpDuration2 = document.querySelector('#cp_duration_2').children[0];
                let cpQtyPrescribed2 = document.querySelector('#cp_qtyPrescribed_2').children[0];

                if(ipDrug1.value !== ""){

                    if(ipStrength1.value === ""){
                        ipStrength1.focus();
                        getField('ip_strength_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }else if(ipFrequency1.value === ""){
                        ipFrequency1.focus();
                        getField('ip_frequency_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(ipDuration1.value === ""){
                        ipDuration1.focus();
                        getField('ip_duration_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(ipDuration1.value === ""){
                        ipDuration1.focus();
                        getField('ip_duration_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }

                    if(ipQtyPrescribed1.value === ""){
                        ipQtyPrescribed1.focus();
                        getField('ip_qtyPrescribed_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                }
                if(ipDrug2.value !== ""){
                    if(ipStrength2.value === ""){
                        ipStrength2.focus();
                        getField('ip_strength_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(ipFrequency2.value === ""){
                        ipFrequency2.focus();
                        getField('ip_frequency_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(ipDuration2.value === ""){
                        ipDuration2.focus();
                        getField('ip_duration_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(ipDuration2.value === ""){
                        ipDuration2.focus();
                        getField('ip_duration_2.error').html('Fill this for drug to be dispensed').show();
                        return false
                    }
                    if(ipQtyPrescribed2.value === ""){
                        ipQtyPrescribed2.focus();
                        getField('ip_qtyPrescribed_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                }

                if(cpDrug1.value !== ""){

                    if(cpStrength1.value === ""){
                        cpStrength1.focus();
                        getField('cp_strength_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }else if(cpFrequency1.value === ""){
                        cpFrequency1.focus();
                        getField('cp_frequency_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(cpDuration1.value === ""){
                        cpDuration1.focus();
                        getField('cp_duration_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(cpDuration1.value === ""){
                        cpDuration1.focus();
                        getField('cp_duration_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }

                    if(cpQtyPrescribed1.value === ""){
                        cpQtyPrescribed1.focus();
                        getField('cp_qtyPrescribed_1.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                }
                if(cpDrug2.value !== ""){
                    if(cpStrength2.value === ""){
                        cpStrength2.focus();
                        getField('cp_strength_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(cpFrequency2.value === ""){
                        cpFrequency2.focus();
                        getField('cp_frequency_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(cpDuration2.value === ""){
                        cpDuration2.focus();
                        getField('cp_duration_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(cpDuration2.value === ""){
                        cpDuration2.focus();
                        getField('cp_duration_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                    if(cpQtyPrescribed2.value === ""){
                        cpQtyPrescribed2.focus();
                        getField('cp_qtyPrescribed_2.error').html('Fill this for drug to be dispensed').show();
                        return false;
                    }
                }
                return true;
            });
        });
    </script>

    <!-- UPDATED -->
    <table style="margin-bottom: 20px;">
        <thead>
        <tr>
            <th colspan='5' style="text-align: center">TB Treatment Form</th>
        </tr>
        </thead>
    </table>


    <!-- UPDATED -->
    <fieldset style="border: 1px solid #305a72; min-width: 90%; margin-left:5%; padding: 6px; margin-bottom: 2%; border-radius: 9px;">
        <legend class="legend_style">Last Clinical Parameters</legend>
        <table id="dashboard" cellspacing="10" cellpadding="5" align="center">
            <tr>
                <td><b>Type of Patient:</b>
                    <font color='blue' style="font-weight: bold">
                        <lookup expression="$fn.latestObs('166687').valueCoded.name" /> </font>
                </td>
                <td><b>Treatment Age:</b>
                    <font color='blue' style="font-weight: bold">
                        <lookup expression="$fn.latestObs('165720').valueCoded.name" /> </font>
                </td>
                <td><b>Last Pick Up Date:</b>
                    <font color='blue' style="font-weight: bold">
                        <lookup expression="fn.latestObs('164506').obsDatetime" /> </font>
                </td>
            </tr>
            <tr>
                <td><b>Treatment Type:</b>
                    <font color='blue' style="font-weight: bold">
                        <lookup expression="$fn.latestObs('166666').valueCoded.name" /> </font>
                </td>
                <td><b>Current Regimen:</b>
                    <font color='blue' style="font-weight: bold">
                        <lookup expression="$fn.latestObs('165304').valueCoded.name" /> </font>
                </td>

            </tr>

        </table>
    </fieldset>

    <!-- UPDATED -->
    <!--   <table class="baseline-aligned">
           <tr>
               <td></td>
               <td style="alnright">
                   <label>Visit Date (Dispensed Date):</label>
                   <encounterDate id="encounterDate" />
               </td>
           </tr>
       </table> -->

    <fieldset>
        <table>
            <tr>

                <td>
                    <label>Type of Regimen</label>
                    <obs id="regimenType" conceptId="166666" answerConceptIds="165614,166671" answerLabels="Regimen 1 (6 months), Regimen 2 (12 months)" required="true"/> </td>


                <td>
                    <label>Treatment Age category</label>
                    <obs id="TreatmentAgeCategory" required="true" conceptId="165720" answerConceptIds="1528, 165709" answerLabels="Pediatric, Adult"> </obs>

                </td>
                <includeIf velocityTest="$patient.gender == 'F' ">

                    <td>
                        <label>Pregnancy Status</label>
                        <obs conceptId="165050" answerLabel="" />
                    </td>
                </includeIf>
            </tr>

        </table>
    </fieldset>

    <br/>
    <!-- UPDATED -->

    <fieldset>
        <legend class="legend_style">Intensive Phase</legend>
        <table class="baseline-aligned">
            <tr>
                <td>
                    <label>Drugs</label>

                </td>
                <td>
                    <label>Strength</label>
                </td>
                <td>
                    <label>Frequency</label>
                </td>
                <td>
                    <label>Duration </label>
                </td>
                <td>
                    <label>Qty Prescribed</label>
                </td>
            </tr>
            <tr>
                <obsgroup groupingConceptId="165728">
                    <td>
                        <obs class='gridmenu' id="ip_drug_1" conceptId="165304" answerConceptIds="1675,768,656,1108" answerLabels="RHZE,RHZ,RHE,EH" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="ip_strength_1" conceptId="165725" answerConceptIds="166061,165622,166062,162401,5622" answerLabels="150mg/75mg,300mg/150mg,150mg/75mg/40mg,Kit,Others" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="ip_frequency_1" conceptId="165723" answerConceptIds="160862,160858,165721,166056,166057,160870,165722,166058,5622" answerLabels="OD,BD,2 BD,3 BD,4 BD,QDS,3ce/week,Nocte,Others" />
                    </td>
                    <td>
                        <obs conceptId="166838" id="ip_duration_1" answerConceptIds="166667" answerLabels="2 months" />
                    </td>
                    <td>
                        <obs conceptId="160856" id="ip_qtyPrescribed_1" />
                    </td>

                </obsgroup>
            </tr>
            <tr>
                <obsgroup groupingConceptId="165728">
                    <td>
                        <obs class='gridmenu' id="ip_drug_2" conceptId="165304" answerConceptIds="83352,656,767,82900,75948" answerLabels="Rifabutin,Isoniazid,Rifampicin,Pyrazinamide,Ethambutol" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="ip_strength_2" conceptId="165725" answerConceptIds="166063,165075,165074,165076,166054,5622" answerLabels="1g,150mg,300mg,100mg,400mg,Others" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="ip_frequency_2" conceptId="165723" answerConceptIds="160862,160858,165721,166056,166057,160870,165722,166058,5622" answerLabels="OD,BD,2 BD,3 BD,4 BD,QDS,3ce/week,Nocte,Others" />
                    </td>
                    <td>
                        <obs conceptId="166838" id="ip_duration_2" answerConceptIds="166667" answerLabels="2 months" />
                    </td>
                    <td>
                        <obs conceptId="160856" id="ip_qtyPrescribed_2" />
                    </td>

                </obsgroup>
            </tr>
        </table>
    </fieldset>

    <!-- Continuity -->
    <fieldset>
        <legend class="legend_style">Continuity Phase</legend>
        <table class="baseline-aligned">
            <tr>
                <td>
                    <label>Drugs</label>

                </td>
                <td>
                    <label>Strength</label>
                </td>
                <td>
                    <label>Frequency</label>
                </td>
                <td>
                    <label>Duration</label>
                </td>
                <td>
                    <label>Qty Prescribed</label>
                </td>

            </tr>
            <tr>
                <obsgroup groupingConceptId="165728">
                    <td>
                        <obs class='gridmenu' id="cp_drug_1" conceptId="165304" answerConceptIds="1675,768,656,1108" answerLabels="RHZE,RHZ,RHE,EH" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="cp_strength_1" conceptId="165725" answerConceptIds="166061,165622,166062,162401,5622" answerLabels="150mg/75mg,300mg/150mg,150mg/75mg/40mg,Kit,Others" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="cp_frequency_1" conceptId="165723" answerConceptIds="160862,160858,165721,166056,166057,160870,165722,166058,5622" answerLabels="OD,BD,2 BD,3 BD,4 BD,QDS,3ce/week,Nocte,Others" />
                    </td>
                    <td>
                        <obs conceptId="166838" id="cp_duration_1" answerConceptIds="166668,166670,166671" answerLabels="4 months,10 months,12 months" />
                    </td>
                    <td>
                        <obs conceptId="160856" id="cp_qtyPrescribed_1" />
                    </td>

                </obsgroup>
            </tr>
            <tr>
                <obsgroup groupingConceptId="165728">
                    <td>
                        <obs class='gridmenu' id="cp_drug_2" conceptId="165304" answerConceptIds="83352,656,767,82900,75948" answerLabels="Rifabutin,Isoniazid,Rifampicin,Pyrazinamide,Ethambutol" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="cp_strength_2" conceptId="165725" answerConceptIds="166063,165075,165074,165076,166054,5622" answerLabels="1g,150mg,300mg,100mg,400mg,Others" />
                    </td>
                    <td>
                        <obs class='gridmenu' id="cp_frequency_2" conceptId="165723" answerConceptIds="160862,160858,165721,166056,166057,160870,165722,166058,5622" answerLabels="OD,BD,2 BD,3 BD,4 BD,QDS,3ce/week,Nocte,Others" />
                    </td>
                    <td>
                        <obs conceptId="166838" id="cp_duration_2" answerConceptIds="166668,166670,166671" answerLabels="4 months,10 months,12 months" />
                    </td>
                    <td>
                        <obs conceptId="160856" id="cp_qtyPrescribed_2" />
                    </td>

                </obsgroup>
            </tr>
        </table>
    </fieldset>



    <br/>

    <!-- UPDATED -->

    <br/>


    <!-- OUTCOME  check -->
    <fieldset>
        <legend class="legend_style new">OUTCOME</legend>
        <table>
            <tr>

                <td class="alnleft">Select Outcome</td>
                <td class="alnleft"> <obs conceptId="166672" answerConceptIds="159791,1267,159874,160737,164928,160432, 166837" answerLabels="Cured, Treatment Completed, Treatment Failed, Not Evaluated,Lost to follow-up,Dead,Removed from Register"/> </td>
                <td class="alnleft">Date:</td>
                <td class="alnleft"><obs conceptId="166675"/> </td>
            </tr>
            <tr>
                <td class="alnleft_s">Select DOT Provider</td>
                <td class="alnleft_s">
                    <obs id="fee" conceptId="163556" answerConceptIds="166679,5619" answerLabels="Treatment Supporter, Health Worker" />

                </td>

                <td class="alnleft_s">Enter DOT Provider Name</td>
                <td id="do" class="alnleft_s">
                    <obs conceptId="1473"/>
                </td>


            </tr>
        </table>
    </fieldset>

    <!-- end -->


    <fieldset>
        <legend class="legend_style">Signature</legend>
        <table width="100%">

            <tr>
                <td class="alnright_s">Visit Date:</td>
                <td class="alnleft_s">
                    <encounterDate id="encounter_Date " showTime="false" allowFutureDates="false" required="true"/>
                </td>
                <td class="alnright_s">Health Worker:</td>
                <td class="alnleft_s" >
                    <encounterProvider />
                </td>
                <td class="alnright_s">Facility:</td>
                <td>
                    <encounterLocation default="SessionAttribute:emrContext.sessionLocationId"/>
                </td>
            </tr>

        </table>

    </fieldset>
    <submit/>

</htmlform>
