<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">


    <changeSet id="poc_locations" author="toyeeb" runOnChange="true">

        <sqlFile path="pocsql/poc_locations.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
    </changeSet>

    <changeSet id="location_tag" author="toyeeb" runOnChange="true">

        <sqlFile path="pocsql/location_tag.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
    </changeSet>

    <changeSet id="location_tag_map" author="toyeeb" runOnChange="true">

        <sqlFile path="pocsql/location_tag_map.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
    </changeSet>

    <changeSet id="appointment_schedule_type_update" author="toyeeb" runOnChange="true">

        <sqlFile path="pocsql/appointmentscheduling_appointment_type.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter="/0xd"/>
    </changeSet>

    <changeSet author="toyeeb" id="update15102020540">
        <delete tableName="concept_answer">
            <where>concept_answer_id='8908'</where>
        </delete>
    </changeSet>
    <changeSet id="update141020200830" author="wande">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM concept_answer WHERE uuid='555d447e-d18e-4a2e-832b-4b790dc03b27';
            </sqlCheck>
        </preConditions>
        <sql>SET FOREIGN_KEY_CHECKS=0;</sql>
        <insert tableName="concept_answer">
            <column name="concept_answer_id" value="8908"/>
            <column name="concept_id" value="165725"/>
            <column name="answer_concept" value="166044"/>
            <column name="creator" value="1"/>
            <column name="date_created" valueDate="2020-10-13 10:55:05"/>
            <column name="uuid" value="555d447e-d18e-4a2e-832b-4b790dc03b27"/>
            <column name="sort_weight" value="31"/>
        </insert>
        <sql>SET FOREIGN_KEY_CHECKS=1;</sql>
    </changeSet>
    <changeSet author="toyeeb" id="delete161020201157" runOnChange="true">
        <delete tableName="location_tag_map">
            <where>location_id='4'</where>
        </delete>
    </changeSet>
    <changeSet author="toyeeb" id="delete161020201158" runOnChange="true">
        <delete tableName="location_tag_map">
            <where>location_id='5'</where>
        </delete>
    </changeSet>
    <changeSet author="toyeeb" id="delete161020201159" runOnChange="true">
        <delete tableName="location_tag_map">
            <where>location_id='6'</where>
        </delete>
    </changeSet>
    <changeSet author="toyeeb" id="delete161020201160" runOnChange="true">
        <delete tableName="location_tag_map">
            <where>location_id='7'</where>
        </delete>
    </changeSet>

    <include file="liquibase-dataquality-update.xml" relativeToChangelogFile="true" />
    
     <changeSet id="poc_role" author="toyeeb" runOnChange="true">

         <sql>SET FOREIGN_KEY_CHECKS=0;</sql>
        <sqlFile path="pocsql/role/role.sql"
                 stripComments="true"
                 splitStatements="true"
                 endDelimiter="/0xd"/>

         <sql>SET FOREIGN_KEY_CHECKS=1;</sql>
    </changeSet>
    <changeSet id="poc_role_role" author="toyeeb" runOnChange="true">

        <sql>SET FOREIGN_KEY_CHECKS=0;</sql>
        <sqlFile path="pocsql/role/role_role.sql"
                 stripComments="true"
                 splitStatements="true"
                 endDelimiter="/0xd"/>

        <sql>SET FOREIGN_KEY_CHECKS=1;</sql>
    </changeSet>
    <changeSet id="poc_role_privilege" author="toyeeb" runOnChange="true">

        <sql>SET FOREIGN_KEY_CHECKS=0;</sql>
        <sqlFile path="pocsql/role/role_privilege.sql"
                 stripComments="true"
                 splitStatements="true"
                 endDelimiter="/0xd"/>

        <sql>SET FOREIGN_KEY_CHECKS=1;</sql>
    </changeSet>

    <changeSet id="concept_202103081056" author="wande" runOnChange="true">
        <sql>SET FOREIGN_KEY_CHECKS=0;</sql>

        <sqlFile path="concepts/20210303/concept.sql"
                 stripComments="true"
                 splitStatements="true"
                 encoding="UTF-8"
                 endDelimiter=";"/>

        <sqlFile path="concepts/20210303/concept_description.sql"
                 stripComments="true"
                 splitStatements="true"
                 encoding="UTF-8"
                 endDelimiter=";"/>

        <sqlFile path="concepts/20210303/concept_name.sql"
                 stripComments="true"
                 splitStatements="true"
                 encoding="UTF-8"
                 endDelimiter=";"/>

        <sqlFile path="concepts/20210303/concept_answer.sql"
                 stripComments="true"
                 splitStatements="true"
                 encoding="UTF-8"
                 endDelimiter=";"/>

        <sql>SET FOREIGN_KEY_CHECKS=1;</sql>
    </changeSet>

</databaseChangeLog>