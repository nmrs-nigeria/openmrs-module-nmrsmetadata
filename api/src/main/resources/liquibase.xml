<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

<!--<include file="liquibase-nmrs-update.xml" relativeToChangelogFile="true" />-->
 <!-- Custom functions -->
 <changeSet id="report_latestfunctions" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/customfunctions/latestfunctions.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter="/0xd"/>
 </changeSet>
 
 <!-- Patient flaging module -->
 <changeSet id="report_patientflags_flag" author="Orji" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/flag/patientflags_flag.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_patientflags_flag_tag" author="Orji" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/flag/patientflags_flag_tag.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_patientflags_priority" author="Orji" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/flag/patientflags_priority.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_patientflags_tag" author="Orji" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/flag/patientflags_tag.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_patientflags_tag_role" author="Orji" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/flag/patientflags_tag_role.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 
 <!-- Reporting module -->
 <changeSet id="report_report_object" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/report_object.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_report_schema_xml" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/report_schema_xml.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_reporting_report_design" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/reporting_report_design.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_reporting_report_design_resource" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/reporting_report_design_resource.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 
 <changeSet id="report_reporting_report_processor" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/reporting_report_processor.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_reporting_report_request" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/reporting_report_request.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>
 <changeSet id="report_serialized_object" author="Bright" runOnChange="true">
        <preConditions onFail="MARK_RAN" onError="MARK_RAN">
            <sqlCheck  expectedResult="true">SELECT property_value FROM global_property WHERE property = 'isNmrsDistribution'</sqlCheck>
        </preConditions>
        <sqlFile path="report/reports/serialized_object.sql"
                 stripComments="false"
                 splitStatements="true"
                 endDelimiter=";"/>
 </changeSet>




</databaseChangeLog>